<div>

  <my-bootstrap-form-group name="supannCivilite" :label="label.supannCivilite" :validity="validity">
    <radio-with-validity :values="{'M.': 'M.', Mme: 'Mme'}" name="supannCivilite" v-model="v.supannCivilite" :validity.sync="validity.supannCivilite"></radio-with-validity>
  </my-bootstrap-form-group>

  <my-bootstrap-form-group name="givenName" :label="label.givenName" :validity="validity">
    <input-with-validity name="givenName" v-model="v.givenName" type="text" :allowed-chars="allowedCharsInNames" required :validity.sync="validity.givenName"></input-with-validity>
  </my-bootstrap-form-group>

  <my-bootstrap-form-group name="sn" :label="label.sn" :validity="validity">
    <input-with-validity name="sn" v-model="v.sn" type="text" :allowed-chars="allowedCharsInNames" required :validity.sync="validity.sn"></input-with-validity>
  </my-bootstrap-form-group>

  <my-bootstrap-form-group name="birthName" :label="label.birthName" :validity="validity">
    <input-with-validity name="birthName" v-model="v.birthName" type="text" title="si différent du nom d'usage" :allowed-chars="allowedCharsInNames" :validity.sync="validity.birthName"></input-with-validity>
  </my-bootstrap-form-group>

  <my-bootstrap-form-group name="day" multi="true" :label="label.birthDay">
    <div class="col-xs-2" :class="{'has-error': validity.submitted && !validity.day.valid }">
      <div>
        <input-with-validity name="day" v-model="v.birthDay.day" type="number" min="1" :max="maxDay" placeholder="Jour" required :validity.sync="validity.day"></input-with-validity>
        <validation-errors name="day" :validity="validity"></validation-errors>
      </div>
    </div>
    <div class="col-xs-2" :class="{'has-error': validity.submitted && !validity.month.valid }">
      <div>
        <input-with-validity name="month" v-model="v.birthDay.month" type="number" min="1" max="12" placeholder="Mois" required :validity.sync="validity.month"></input-with-validity>
        <validation-errors name="month" :validity="validity"></validation-errors>
      </div>
    </div>
    <div class="col-xs-5" :class="{'has-error': validity.submitted && !validity.year.valid }">
      <div>
        <input-with-validity name="year" v-model="v.birthDay.year" type="number" min="1900" :max="maxYear" placeholder="Année" required  :validity.sync="validity.year"></input-with-validity>
        <validation-errors name="year" :validity="validity"></validation-errors>
      </div>
    </div>   
  </my-bootstrap-form-group>

<div v-if="attrs.homePostalAddress">
  <my-bootstrap-form-group name="country" :label="label.homePostalAddress" :validity="validity">
     <typeahead name="country" v-model="v.homePostalAddress.country" :options="countries" placeholder="Pays" :validity.sync="validity.country" required></typeahead>
  </my-bootstrap-form-group>
    
 <div v-if="v.homePostalAddress.country === 'FRANCE'">
  <my-bootstrap-form-group name="address_lines" :label="label.address_lines" :validity="validity">
    <input-with-validity name="address_lines" v-model="v.homePostalAddress.lines" placeholder="Numéro, rue" :validity.sync="validity.address_lines" required></input-with-validity>
  </my-bootstrap-form-group>
  <my-bootstrap-form-group name="address_line2">
    <input-with-validity name="address_line2" v-model="v.homePostalAddress.line2" placeholder="complément d'adresse"></input-with-validity>
  </my-bootstrap-form-group>
  <my-bootstrap-form-group name="postalCode" multi="true">
    <div class="col-md-offset-3 col-xs-2" :class="{'has-error': validity.submitted && !validity.postalCode.valid}">
      <div>
        <input-with-validity name="postalCode" v-model="v.homePostalAddress.postalCode" real-type="frenchPostalCode" placeholder="Code postal" required :validity.sync="validity.postalCode"></input-with-validity>
        <validation-errors name="postalCode" :validity="validity"></validation-errors>
      </div>
    </div>
    <div class="col-xs-7" :class="{'has-error': validity.submitted && !validity.town.valid}">
      <div>
        <typeahead name="town" v-model="v.homePostalAddress.town" :options="towns" placeholder="Ville" :editable="false" :validity.sync="validity.town"></typeahead>
        <validation-errors name="town" :validity="validity"></validation-errors>
      </div>
    </div>
  </my-bootstrap-form-group>
 </div>
 <div v-else>
   <my-bootstrap-form-group name="address_lines" :label="label.address_lines" :validity="validity">
     <textarea-with-validity rows="5" v-model="v.homePostalAddress.lines" class="form-control" :validity.sync="validity.address_lines"></textarea-with-validity>
   </my-bootstrap-form-group>
 </div>
</div>

  <my-bootstrap-form-group name="homePhone" :label="label.homePhone" :validity="validity">
    <input-with-validity name="homePhone" v-model="v.homePhone" real-type="phone" required :validity.sync="validity.homePhone"></input-with-validity>
  </my-bootstrap-form-group>

</div>
